---
slug: advanced_usage
title: Advanced usage
---

The following advanced usage methods can be used in addition to the usage methods mentioned in the [Getting started](/docs/#usage) page. These methods can also be used via an Infracost [config file](/docs/multi_project/config_file).

## Terraform plan file

Infracost can be run against a Terraform plan file. This implies that you have already run Terraform `init`, thus Infracost just runs Terraform `show`, which does not require cloud credentials or `--terraform-plan-flags` to be set.

  ```shell
  cd path/to/code
  terraform init
  terraform plan -out tfplan.binary

  infracost breakdown --path tfplan.binary

  infracost diff --path tfplan.binary
  ```

## Use Terraform state

The `infracost breakdown` command has a `--terraform-use-state` flag that is useful if you want to see the cost breakdown of the current Terraform state. This implies that you have already run Terraform `apply`, thus Infracost just runs Terraform `show`, which does not require cloud credentials or `--terraform-plan-flags` to be set.

  ```shell
  infracost breakdown --path examples/terraform --terraform-use-state
  ```

## Terraform state JSON file

The `infracost breakdown` command can be run against a Terraform state JSON file. This is the [JSON output format] of the state, not the internal JSON representation. It has to be generated by running `terraform show -json` inside a Terraform project. This is useful if you want to see the cost breakdown of the current Terraform state. This implies that you have already run Terraform `apply`, thus no cloud creds or `--terraform-plan-flags` is needed.

  ```shell
  cd path/to/code
  terraform show -json > tfstate.json

  infracost breakdown --path tfstate.json
  ```

## Parsing HCL (experimental)

Imagine you could add Infracost to [repo README files](https://github.com/infracost/infracost/issues/43), get cost estimates for Terraform modules **before** using them in your projects, and even see cost estimates in Visual Studio ðŸ¤¯ That's why we're experimenting with parsing HCL directly, without relying on the Terraform binary, a plan JSON file or cloud credentials. Can you tell we have an [unhealthy obsession with cloud costs](https://www.youtube.com/watch?v=lefCU2ptsio)?

This method of running Infracost is an order of magnitude faster than generating a plan JSON file, and it runs in the background alongside the existing method so we can compare their difference.

We need your help to make this experiment work! Please run this new method using the following command, compare the output with the existing method, and create [GitHub issues](https://github.com/infracost/infracost/issues) if you find discrepancies so we can investigate them:

  ```shell
  # Works with v0.9.19+
  infracost breakdown --path=path/to/code --terraform-parse-hcl \
    --terraform-var-file="myvars.tfvars" \ # Load variables from provided files, similar to Terraform's -var-file flag
    --terraform-var "my_var=value" \       # Set a value for one of the input variables, similar to Terraform's -var flag
    --terraform-var "my_other_var=value"   # The --terraform-var-file and --terraform-var flags can be used multiple times
  ```
