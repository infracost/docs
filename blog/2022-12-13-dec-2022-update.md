---
slug: dec-2022-update
title: "December 2022: Guardrails, policies, Jira integration, and override cloud region!"
author: Ali Khajeh-Hosseini
author_url: https://twitter.com/alikhajeh
author_image_url: /img/avatars/ali.jpg
description: "Infracost Cloud has a host of new features to help you save costs, and CLI v0.10.15 has many new resources and usability improvements."
hide_table_of_contents: false
image: img/blog/dec-2022-update/cost-policies.png
date: "2022-12-14"
---

import useBaseUrl from '@docusaurus/useBaseUrl';

We released many big new features this month! You can now create **Guardrails** to control costs by monitoring pull requests and triggering actions when thresholds are exceeded. You can also use **cost policies** to scan your code repos for money saving opportunities (e.g. change gp2 to gp3 volume types) and create tasks to help engineering teams take action.

There's also Jira integration, custom reports, the ability to override the cloud region and lots of new resources.

<!--truncate-->

Upgrade to version [v0.10.15](/docs/#1-install-infracost) and log in to [Infracost Cloud](https://dashboard.infracost.io) to see the new features.

### Guardrails

Guardrails help you control costs by monitoring pull requests and triggering actions when your defined thresholds are exceeded. Two common use-cases are monitoring pull requests for:
1. the monthly budget being exceeded, e.g. notify the budget holder if a pull request for their repo results in the monthly cost to go above $30K/month.
2. unexpected cost spikes, either by defining a fixed threshold or percentage, e.g. notify the FinOps team when a pull request into production environments increases the costs by more than 10%.

Once you define a cost or percentage based threshold for the relevant repos, projects, and branches, you can specify actions including email or Slack notifications, commenting on, or even blocking pull requests. See the [guardrail docs](/docs/infracost_cloud/guardrails) on how to use this feature.

<img src={useBaseUrl("img/blog/dec-2022-update/guardrail-events.png")} alt="Guardrail events" />

### Centralized cost policies

With cost policies you'll be able to define central policies and scan your repositories for cost saving opportunities. You can also see which repositories are not following your policies and create tasks to help engineering teams take action. The policies are checked and tracked each time a pull request is sent!

Policies can be created for any infrastructure-as-code attributes for AWS, Azure and Google. Some example AWS policies that we've created are: upgrade EC2 gp2 volumes to gp3, use CloudFront for public S3 buckets, add autoscaling for DynamoDB RCUs, and use S3 for VPC flow logs.

This feature is in beta, [contact us](mailto:hello@infracost.io) if you'd like us to work with you to write policy code for your use-cases (using Open Policy Agent's Rego language behind the scenes) and measure their cost savings.

<img src={useBaseUrl("img/blog/dec-2022-update/cost-policies.png")} alt="Cost policies" />

### Jira integration

You can now add cost estimates to Jira issues so you can track the most impactful tickets your team is working on as it relates to the cloud bill. Infracost creates custom fields in Jira with the cost estimate, so you can use those fields in Jira reports as well Jira's workflow engine. See the [Jira integration docs](/docs/integrations/jira) to get started.

<img src={useBaseUrl("img/blog/dec-2022-update/jira-issue.png")} alt="Cost estimates in Jira issues" />

### Reports

The new reports page enables you to create daily/weekly/monthly reports and get a summary of the most impactful cost changes across all repos. When [creating a report](/docs/infracost_cloud/reports), you can also filter on specific pull requests to be included in the report, e.g. only report on certain repositories or merged pull requests.

<img src={useBaseUrl("img/blog/dec-2022-update/report-email.png")} alt="Weekly email report" />

### Override cloud region

There can be a big difference in costs between cloud regions so it can be useful to get a quick cost estimate of using a different region before infra any code is changed. The following [new environment variables](/docs/features/environment_variables/#environment-variables-to-override-cloud-provider-region) can be used to override the region when using the `infracost breakdown` and `diff` commands:
- `INFRACOST_AWS_OVERRIDE_REGION` for AWS
- `INFRACOST_AZURE_OVERRIDE_REGION` for Azure
- `INFRACOST_GOOGLE_OVERRIDE_REGION` for Google

### New resources

We added support for the following cloud resources and also added support for the new AWS regions eu-central-2, eu-south-2 and ap-south-2:
- Google Compute custom machine types
- Azure Attestation Provider `azurerm_attestation_provider`
- AWS FSx OpenZFS File System (aws_fsx_openzfs_file_system), Lambda tiered pricing and EC2 host `aws_ec2_host`

### Other improvements

We also released a few other improvements:
- Infracost can be used with [CDK for Terraform](/docs/features/cli_commands/#cdk-for-terraform).
- Add cache for Terragrunt source files. Significantly speeding up Terragrunt HCL evaluation by caching already downloaded modules and copying them to a destination if they are included again.
- The `infracost breakdown` and `diff` commands have a new `--include-all-paths` that sets the project auto-detection to use all subdirectories in given path. Together with the existing `--exclude-path` flag this enables you to control how Infracost is run in your repository directories. These options are also available in the [config-file](/docs/features/config_file/):

  ```yml
  version: 0.1
  projects:
    - path: code
      include_all_paths: true
      exclude_paths:
        - "modules/**"
  ```
- The `infracost comment` command has a new `--show-all-projects` flag that shows all projects in the table of the comment output. This is useful if you want to see project breakdown costs even if those projects have not changed.
- The [GitHub App](/docs/integrations/github_app) integration shows you who approved pull requests, who merged pull requested and any labels that the pull request had. This additional context is useful when debugging cost spikes and is available in the Infracost Cloud dashboard as well as the CSV export.
- There is a new version of the [VSCode extension](/docs/integrations/vscode/) with improved error handling, bug fixes and simpler onboarding flow.
- The Terraform Enterprise Run Task integration docs have been updated to include details of the [firewall configurations](/docs/integrations/terraform_cloud_enterprise/#2-firewall-configuration-for-tfe) you need to make.

### Community content

Many thanks to first time contributors [@peterdeme](https://github.com/peterdeme), [@yogeshCt3](https://github.com/yogeshCt3) and [@7onn](https://github.com/7onn). Also shout-out to the following people for sharing their knowledge with the rest of the community:
- [Wenqi Glantz](https://www.linkedin.com/in/wenqi-glantz-b5448a5a/): [Infracost + Terraform + GitHub Actions = Automate Cloud Cost Management](https://betterprogramming.pub/infracost-terraform-github-actions-automate-cloud-cost-management-a62b329f2834)
- [Kasun Rajapakse](https://www.linkedin.com/in/kasunraj): [Automate Infracost with GitHub Actions](https://kasunrajapakse.me/automate-infracost-with-azure-devops-pipeline-82fe7a228ff9)
- [Tobias Mueckl](https://www.linkedin.com/in/tobias-mueckl/): [Cloud-Kosten im Blick behalten mit Infracost fÃ¼r Terraform](https://blog.ordix.de/cloud-kosten-im-blick-behalten-mit-infracost-fuer-terraform)
- [Antonio Carlos da Silva Junior](https://www.linkedin.com/in/antoniocarlosjr/): [Utilizando Infracost para estimar custos no Azure com Terraform](https://unicast.com.br/posts/utilizando-infracost-para-estimar-custos-no-azure-com-terraform/)
- [Mauricio Pinheiro Gomes](https://www.linkedin.com/in/mauriciopgomes/): talked about Infracost at [DevOps Days Rio de Janeiro](https://www.linkedin.com/posts/mauriciopgomes_finops-activity-6995696573636571136-43dy)

ðŸ‘‰ Finally, as a thank you to our open-source community, and to celebrate the end of the year, we are reducing the price of Infracost Cloud from $50 per seat per month to $30 per seat per month. This offer is [live now](/pricing), and ends on the 31st December 2022!
